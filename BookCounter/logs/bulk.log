2017-02-10 09:31:49,280 [INFO ][main            ][controller.command.impl.MoreOneBook] - START getting employees who read more one book
2017-02-10 09:31:49,533 [INFO ][main            ][controller.command.impl.MoreOneBook] - END getting employees who read more one book
2017-02-10 09:31:49,534 [INFO ][main            ][controller.command.impl.TwoBookOrMore] - START getting employees who read less than two book
2017-02-10 09:31:49,539 [INFO ][main            ][controller.command.impl.TwoBookOrMore] - END getting employees who read less than two book
2017-02-10 09:31:49,540 [INFO ][main            ][controller.command.impl.RenameBook] - START renaming book
2017-02-10 09:31:49,544 [INFO ][main            ][controller.command.impl.RenameBook] - END renaming book
2017-02-10 09:31:49,544 [INFO ][main            ][controller.command.impl.DeleteBook] - START deleting book
2017-02-10 09:31:49,566 [ERROR][main            ][controller.command.impl.DeleteBook] - Error while deleting book
com.epam.library.service.exception.ServiceException: Exception while deleting book
	at com.epam.library.service.impl.LibraryServiceImpl.deleteBook(LibraryServiceImpl.java:74)
	at com.epam.library.controller.command.impl.DeleteBook.execute(DeleteBook.java:24)
	at com.epam.library.controller.Controller.executeTask(Controller.java:20)
	at com.epam.library.main.main(main.java:17)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: com.epam.library.dao.exception.DAOException: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`cbrc_db`.`employee_book`, CONSTRAINT `fk_EMPLOYEE_BOOK_BOOK` FOREIGN KEY (`BOOK_ID`) REFERENCES `book` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION)
	at com.epam.library.dao.impl.SQLBookDAO.deleteBook(SQLBookDAO.java:103)
	at com.epam.library.service.impl.LibraryServiceImpl.deleteBook(LibraryServiceImpl.java:72)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Cannot delete or update a parent row: a foreign key constraint fails (`cbrc_db`.`employee_book`, CONSTRAINT `fk_EMPLOYEE_BOOK_BOOK` FOREIGN KEY (`BOOK_ID`) REFERENCES `book` (`ID`) ON DELETE NO ACTION ON UPDATE NO ACTION)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3970)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3906)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2524)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2677)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2545)
	at com.mysql.jdbc.StatementImpl.executeUpdateInternal(StatementImpl.java:1540)
	at com.mysql.jdbc.StatementImpl.executeLargeUpdate(StatementImpl.java:2595)
	at com.mysql.jdbc.StatementImpl.executeUpdate(StatementImpl.java:1468)
	at com.epam.library.dao.impl.SQLBookDAO.deleteBook(SQLBookDAO.java:101)
	... 9 more
2017-02-10 09:31:49,568 [INFO ][main            ][controller.command.impl.AddBook] - START adding book
2017-02-10 09:31:49,587 [ERROR][main            ][controller.command.impl.AddBook] - Error while adding book
com.epam.library.service.exception.ServiceException: Exception while add new book
	at com.epam.library.service.impl.LibraryServiceImpl.addBook(LibraryServiceImpl.java:85)
	at com.epam.library.controller.command.impl.AddBook.execute(AddBook.java:25)
	at com.epam.library.controller.Controller.executeTask(Controller.java:20)
	at com.epam.library.main.main(main.java:19)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:144)
Caused by: com.epam.library.dao.exception.DAOException: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '310' for key 'PRIMARY'
	at com.epam.library.dao.impl.SQLBookDAO.addBook(SQLBookDAO.java:39)
	at com.epam.library.service.impl.LibraryServiceImpl.addBook(LibraryServiceImpl.java:83)
	... 8 more
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLIntegrityConstraintViolationException: Duplicate entry '310' for key 'PRIMARY'
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:422)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:935)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3970)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3906)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2524)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2677)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2549)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1861)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2073)
	at com.mysql.jdbc.PreparedStatement.executeUpdateInternal(PreparedStatement.java:2009)
	at com.mysql.jdbc.PreparedStatement.executeLargeUpdate(PreparedStatement.java:5098)
	at com.mysql.jdbc.PreparedStatement.executeUpdate(PreparedStatement.java:1994)
	at com.epam.library.dao.impl.SQLBookDAO.addBook(SQLBookDAO.java:37)
	... 9 more
